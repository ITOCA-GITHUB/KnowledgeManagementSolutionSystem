@model Google_cloud_storage_solution.Models.Users

@{
    ViewData["Title"] = "Settings";
    int activityId = ViewBag.ActivityId;
}

<h1>Settings</h1>

<div>
    <h2>@Model.UserName's Profile</h2>
    <p><strong>Email:</strong> @Model.Email</p>
    <p><strong>Full Name:</strong> @Model.Fullname</p>
    <p><strong>Phone Number:</strong> @Model.PhoneNumber</p>
    <p><strong>Physical Address:</strong> @Model.PhysicalAddress</p>
    <p><strong>Role:</strong> @Model.Role</p>
</div>

<div>
    <a asp-action="Edit" class="btn btn-primary">Edit</a>
</div>

<script>
    window.addEventListener('beforeunload', function (event) {
        const exitTime = new Date().toISOString(); // Get the current time in ISO format
        navigator.sendBeacon('/MenuItem/RecordExitTime', JSON.stringify({
            activityId: @activityId,
            exitTime: exitTime
        }));
    });
</script>
